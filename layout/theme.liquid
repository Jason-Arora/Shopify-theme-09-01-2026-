<!doctype html>

<html class="no-js" lang="{{ request.locale.iso_code }}">
  <head>
    <script
      src="https://sapi.negate.io/script/Uku/UyJazlYJAZ4kHUrCoA==?shop=lindas-electric-quilters.myshopify.com"
    ></script>
    <!-- SEOAnt Speed Up Script -->
    {%- if shop.metafields.seoantAppSiteSpeedUpV2.switch == 1 -%}{% include 'SEOAnt-SpeedUp' %}{%- endif -%}
    <!-- /SEOAnt Speed Up Script -->
    {% render 'skio-head' %}
    <script>
      gtag('event', 'conversion', {
          'send_to': 'AW-800315670/hh5ECNzmqYcDEJayz_0C',
          'value': 1.0,
          'currency': 'USD',
          'transaction_id': ''
      });
    </script>
    <!-- {% render 'gtm-customer-events-storefront' %} -->

    <meta name="google-site-verification" content="R26F-ESMQ39DLnQpmGP1Iy2zu6X02LzJXNP2oBOCyjI">
    <!-- Google tag (gtag.js) -->

    <!-- Google Tag Manager -->
    <script>
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-WK5QHRQ');
    </script>
    <!-- End Google Tag Manager -->

    <!-- Hotjar Tracking Code for Site 5041460 -->
    <script>
      (function(h,o,t,j,a,r){
          h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
          h._hjSettings={hjid:5041460,hjsv:6};
          a=o.getElementsByTagName('head')[0];
          r=o.createElement('script');r.async=1;
          r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
          a.appendChild(r);
      })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
    </script>
    <meta charset="utf-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, height=device-height, minimum-scale=1.0, maximum-scale=1.0"
    >
    <meta name="theme-color" content="{{ settings.accent_color }}">

    {%- capture seo_page_title -%}
      {%- if request.page_type == 'search' and search.terms != blank -%}
        {{ search.terms | split: ' AND ' | last | split: 'product_type:' | last }} - {{ shop.name }}
      {%- else -%}
        {{ page_title }}{% if current_tags %}{% assign meta_tags = current_tags | join: ', ' %} &ndash; {{ 'general.meta.tags' | t: tags: meta_tags }}{% endif %}{% if current_page != 1 %} &ndash; {{ 'general.meta.page' | t: page: current_page }}{% endif %}
      {%- endif -%}
    {%- endcapture -%}

    <title>{{- seo_page_title -}}</title>

    {%- if page_description -%}
      <meta name="description" content="{{ page_description | escape }}">
    {%- endif -%}

    <link rel="canonical" href="{{ canonical_url }}">

    {%- if settings.favicon -%}
      <link rel="shortcut icon" href="{{ settings.favicon | img_url: '96x96' }}" type="image/png">
    {%- endif -%}

    {%- comment -%}Few prefech to increase performance on commonly used third-parties{%- endcomment -%}
    <link rel="preload" as="style" href="{{ 'theme.css' | asset_url }}">
    {{ 'theme.js' | asset_url | script_tag | minify }}
    <link rel="preconnect" href="https://cdn.shopify.com">
    <link rel="preconnect" href="https://fonts.shopifycdn.com">
    <link rel="dns-prefetch" href="https://productreviews.shopifycdn.com">
    <link rel="dns-prefetch" href="https://ajax.googleapis.com">
    <link rel="dns-prefetch" href="https://maps.googleapis.com">
    <link rel="dns-prefetch" href="https://maps.gstatic.com">

    {% render 'social-meta-tags' %}
    {% render 'css-variables' %}

    {{ content_for_header }}

    <link rel="stylesheet" href="{{ 'theme.css' | asset_url }}">

    {% render 'microdata-schema' %}

    <script>
      // This allows to expose several variables to the global scope, to be used in scripts
      window.theme = {
        pageType: {{ request.page_type | json }},
        cartCount: {{ cart.item_count | json }},
        moneyFormat: {{ shop.money_format | json }},
        moneyWithCurrencyFormat: {{ shop.money_with_currency_format | json }},
        currencyCodeEnabled: {{ settings.currency_code_enabled | json }},
        showDiscount: {{ settings.show_discount | json }},
        discountMode: {{ settings.discount_mode | json }},
        cartType: {{ settings.cart_type | json }}
      };

      window.routes = {
        rootUrl: {{ routes.root_url | json }},
        rootUrlWithoutSlash: {% if routes.root_url == '/' %}''{% else %}{{ routes.root_url | json }}{% endif %},
        cartUrl: {{ routes.cart_url | json }},
        cartAddUrl: {{ routes.cart_add_url | json }},
        cartChangeUrl: {{ routes.cart_change_url | json }},
        searchUrl: {{ routes.search_url | json }},
        productRecommendationsUrl: {{ routes.product_recommendations_url | json }}
      };

      window.languages = {
        productRegularPrice: {{ 'product.general.regular_price' | t | json }},
        productSalePrice: {{ 'product.general.sale_price' | t | json }},
        collectionOnSaleLabel: {{ 'collection.product.discount_html' | t | json }},
        productFormUnavailable: {{ 'product.form.unavailable' | t | json }},
        productFormAddToCart: {{ 'product.form.add_to_cart' | t | json }},
        productFormPreOrder: {{ 'product.form.pre_order' | t | json }},
        productFormSoldOut: {{ 'product.form.sold_out' | t | json }},
        productAdded: {{ 'product.form.added' | t | json }},
        productAddedShort: {{ 'product.form.added_short' | t | json }},
        shippingEstimatorNoResults: {{ 'cart.shipping_estimator.no_results_title' | t | json }},
        shippingEstimatorOneResult: {{ 'cart.shipping_estimator.one_result_title' | t | json }},
        shippingEstimatorMultipleResults: {{ 'cart.shipping_estimator.multiple_results_title' | t | json }},
        shippingEstimatorErrors: {{ 'cart.shipping_estimator.errors' | t | json }}
      };

      document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
    </script>

    {%- if request.page_type == 'customers/addresses' -%}
      <script src="{{ 'shopify_common.js' | shopify_asset_url }}" defer></script>
      <script src="{{ 'customer_area.js' | shopify_asset_url }}" defer></script>
    {%- endif -%}

    <script src="{{ 'theme.js' | asset_url }}" defer></script>
    <script src="{{ 'custom.js' | asset_url }}" defer></script>

    {%- if request.page_type != 'cart' -%}
      <script>
        (function () {
          window.onpageshow = function() {
            // We force re-freshing the cart content onpageshow, as most browsers will serve a cache copy when hitting the
            // back button, which cause staled data
            document.documentElement.dispatchEvent(new CustomEvent('cart:refresh', {
              bubbles: true,
              detail: {scrollToTop: false}
            }));
          };
        })();
      </script>
    {%- endif -%}
    {% render 'rapid-search-settings' %}

    <script type="text/javascript">
      //DO NOT REMOVE - DRIVES REVENUE
      var AddShoppersWidgetOptions = { 'loadCss': false, 'pushResponse': false };
          (!function(){
              var t=document.createElement("script");
              t.type="text/javascript",
              t.async=!0,
              t.id="AddShoppers",
              t.src="https://shop.pe/widget/widget_async.js#67692f197226be74c69db943",
              document.getElementsByTagName("head")[0].appendChild(t)
          }());
    </script>
  </head>

  <body
    class="warehouse--v4 {% if settings.animation_image_zoom %}features--animate-zoom{% endif%} template-{{ request.page_type | handle }} {% if request.page_type contains '/' %}template-{{ request.page_type | split: '/' | last | handle }}{% endif %}"
    data-instant-intensity="viewport"
  >
    {%- comment -%}Common SVG definitions that we are re-using in several places{%- endcomment -%}
    <script type="text/javascript">
      usi_installed = 0; USI_installCode = function() { if (usi_installed == 0) { usi_installed = 1; var USI_headID = document.getElementsByTagName("head")[0]; var USI_installID = document.createElement('script'); USI_installID.type = 'text/javascript'; USI_installID.src = 'https://www.upsellit.com/active/lindas.jsp'; USI_headID.appendChild(USI_installID); } }; if (typeof(document.readyState) != "undefined" && document.readyState === "complete") { USI_installCode(); } else if (window.addEventListener){ window.addEventListener('load', USI_installCode, true); } else if (window.attachEvent) { window.attachEvent('onload', USI_installCode); } else { USI_installCode(); } setTimeout("USI_installCode()", 10000);
    </script>

    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-WK5QHRQ"
        height="0"
        width="0"
        style="display:none;visibility:hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <svg class="visually-hidden">
      <linearGradient id="rating-star-gradient-half">
        <stop offset="50%" stop-color="var(--product-review-star-color)" />
        <stop offset="50%" stop-color="rgba(var(--text-color-rgb), .4)" stop-opacity="0.4" />
      </linearGradient>
    </svg>

    <a href="#main" class="visually-hidden skip-to-content">{{ 'general.accessibility.skip_to_content' | t }}</a>
    <span class="loading-bar"></span>

    {%- sections 'header-group' -%}
    {%- sections 'overlay-group' -%}

    <main id="main" role="main">
      {{ content_for_layout }}
    </main>

    {%- sections 'footer-group' -%}

    <ul hidden>
      <li id="a11y-new-window-message">{{ 'general.accessibility.new_window' | t }}</li>
    </ul>
    {% include 'smile-initializer' %}

    <script>
      (function(w, d, t, u, n, a, m) {
          w['MauticTrackingObject'] = n;
          w[n] = w[n] || function() { (w[n].q = w[n].q || []).push(arguments) };
          a = d.createElement(t);
          m = d.getElementsByTagName(t)[0];
          a.async = 1;
          a.src = u;
          m.parentNode.insertBefore(a, m);
      })(window, document, 'script', 'https://ma.diib.com/mtc.js', 'mt');

      mt('send', 'pageview', { company: '1977993_lindas.com' });
    </script>

    <script src="//ma.diib.com/focus/1299.js" type="text/javascript" charset="utf-8" async="async"></script>

    <!--
      if a tagged B2B user logs in, render file to update Rebuy widget prices and disable Rebuy Tiered Progress Bar
    -->
    {% if customer.tags contains 'business_account' %}
      <style>
        #rebuy-smart-search-results-sidebar, .link-search-results {display:none !important;}
        #rebuy-quick-view-dropdown-search {display:none !important;}
      </style>
      <script>
        /* confirms smart cart loaded */
          document.addEventListener('rebuy:smartcart.ready', (event) => {
          Rebuy.SmartCart.toggleProgressBar()
        });
      </script>
    {% else %}
      {% render 'rebuy-results-page-template' %}
      {% render 'rebuy-quick-view-template' %}
    {% endif %}

    <script>
        document.addEventListener("DOMContentLoaded", function () {
          // Parse the URL's query string
          const urlParams = new URLSearchParams(window.location.search);

          // Retrieve the value of the 'q' parameter
          const queryValue = urlParams.get('q');
      console.log(queryValue);
          // Check if the 'q' parameter exists and set it in the input field
          if (queryValue) {
              // Find the input field with the class 'search-bar__input'
              const searchInput = document.querySelector('.search-bar__input');
              if (searchInput) {
                  searchInput.value = queryValue; // Set the input field's value
              } else {
                  console.error("Input element with class 'search-bar__input' not found.");
              }
          }
      });
    </script>

    <!-- code used to removed quantity selector from the cart page for free-gifts -->
    <script>
      function hideQuantityForSpecificProduct() {
        const targetHandles = new Set(['lindas-no-cart-product-2', 'lindas-no-cart-product-1']);

        if (!document.body.classList.contains('template-cart')) return;

        document.querySelectorAll('.line-item').forEach(item => {
          const productTitleLink = item.querySelector('.line-item__title.link');
          if (!productTitleLink) return;

          const productUrl = productTitleLink.getAttribute('href');
          if (!productUrl.includes('/products/')) return;

          const productHandle = productUrl.split('/products/')[1]?.split('?')[0];

          if (targetHandles.has(productHandle)) {
            item.querySelectorAll('.quantity-selector').forEach(selector => {
              selector.style.display = 'none';
            });
          }
        });
      }

      ['DOMContentLoaded', 'ajaxComplete', 'change'].forEach(event =>
        document.addEventListener(event, hideQuantityForSpecificProduct)
      );
    </script>

    <!-- removed quantity selector from the product page for lindas-elite-craft-club product -->
    <script>
      function hideQuantityAndStockForSpecificProduct() {
        const targetProductId = '7581762060339';
        const targetProductHandle = 'lindas-elite-craft-club';

        if (document.body.classList.contains('template-product')) {
          const productIdElement = document.querySelector('[data-productid]');
          const productHandleElement = document.querySelector('[data-product-handle]');

          if (
            (productIdElement && productIdElement.dataset.productid === targetProductId) ||
            (productHandleElement && productHandleElement.dataset.productHandle === targetProductHandle)
          ) {
            const pdpQuantitySelector = document.querySelector('.product-form__info-item--quantity');
            if (pdpQuantitySelector) {
              pdpQuantitySelector.remove();
            }

            // Remove the entire stock info div
            document.querySelectorAll('.product-form__info-item').forEach(item => {
              if (item.textContent.includes('Stock:')) {
                item.remove();
              }
            });
          }
        }

        if (document.body.classList.contains('template-cart')) {
          const cartItems = document.querySelectorAll('.line-item__quantity');
          cartItems.forEach(item => {
            const itemId = item.closest('[data-product-id]') || item.closest('[data-line-item]');
            const itemHandle = item.closest('[data-product-handle]') || item.closest('[data-line-item]');
            const itemProperty = item.querySelector('.line-item__property');

            if (
              (itemId && itemId.dataset.productId === targetProductId) ||
              (itemHandle && itemHandle.dataset.productHandle === targetProductHandle) ||
              (itemProperty && itemProperty.textContent.includes("Membership Purchased At"))
            ) {
              item.style.display = 'none';
            }
          });
        }
      }

      document.addEventListener('DOMContentLoaded', hideQuantityAndStockForSpecificProduct);
      document.addEventListener('ajaxComplete', hideQuantityAndStockForSpecificProduct);
      document.addEventListener('change', hideQuantityAndStockForSpecificProduct);
    </script>

    <!-- removed quantity selector from the cart page for lindas-elite-craft-club product -->
    <script>
      function hideQuantityForSpecificProduct() {
        const targetProductHandle = 'lindas-elite-craft-club';
        // const targetVariantId = '49984352059671';

        if (document.body.classList.contains('template-cart')) {
          const cartItems = document.querySelectorAll('.line-item');
          cartItems.forEach(item => {
            const productTitleLink = item.querySelector('.line-item__title.link');
            if (productTitleLink) {
              const productUrl = productTitleLink.getAttribute('href');
              const urlParams = new URLSearchParams(productUrl.split('?')[1]);
              const productHandle = productUrl.split('/products/')[1]?.split('?')[0];
              // const variantId = urlParams.get('variant');

              if (
                productHandle === targetProductHandle
                // &&
                // variantId === targetVariantId
              ) {
                // Hide quantity selectors
                const quantitySelectors = item.querySelectorAll('.quantity-selector');
                quantitySelectors.forEach(selector => {
                  selector.style.display = 'none';
                });

                // const removeLinks = item.querySelectorAll('.line-item__quantity-remove');
                // removeLinks.forEach(link => {
                //   link.style.display = 'none';
                // });
              }
            }
          });
        }
      }

      document.addEventListener('DOMContentLoaded', hideQuantityForSpecificProduct);
      document.addEventListener('ajaxComplete', hideQuantityForSpecificProduct);
      document.addEventListener('change', hideQuantityForSpecificProduct);
    </script>


<!-- code used to disable button for membership product -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      const TARGET_PRODUCT_HANDLE = 'lindas-elite-craft-club';
      const FEATURED_SECTION_SELECTOR = '#shopify-section-template--17133833715763__featured_product_4JCfge';
    
      // Only proceed if we're on a product page or our specific featured section exists
      const isProductPage = document.body.classList.contains('template-product');
      const featuredSection = document.querySelector(FEATURED_SECTION_SELECTOR);
      
      if (!isProductPage && !featuredSection) return;
    
      async function checkAndDisableButtons() {
        try {
          const cart = await fetch('/cart.js').then(res => res.json());
          const productInCart = cart.items.some(item => item.handle === TARGET_PRODUCT_HANDLE);
    
          if (productInCart) {
            // Disable buttons on product page if we're there
            if (isProductPage && "{{ product.handle }}" === TARGET_PRODUCT_HANDLE) {
              const productPageButtons = [
                ...document.querySelectorAll('form[action*="/cart/add"] button[type="submit"]'),
                ...document.querySelectorAll('.shopify-payment-button__button')
              ];
              
              productPageButtons.forEach(button => {
                button.disabled = true;
                button.style.opacity = "0.5";
                button.style.pointerEvents = "none";
                button.textContent = button.textContent.includes("Added") ? button.textContent : "Added to Cart";
              });
            }
    
            // Disable buttons in our specific featured section
            if (featuredSection) {
              const featuredButtons = [
                ...featuredSection.querySelectorAll('button[type="submit"], [data-action="add-to-cart"]'),
                ...featuredSection.querySelectorAll('.shopify-payment-button__button')
              ];
              
              featuredButtons.forEach(button => {
                button.disabled = true;
                button.style.opacity = "0.5";
                button.style.pointerEvents = "none";
                button.textContent = button.textContent.includes("Added") ? button.textContent : "Added to Cart";
              });
            }
          }
        } catch (error) {
          console.error('Error checking cart:', error);
        }
      }
    
      function setupFormHandlers() {
        // Setup for product page
        if (isProductPage && "{{ product.handle }}" === TARGET_PRODUCT_HANDLE) {
          const form = document.querySelector('form[action*="/cart/add"]');
          if (form && !form.dataset.cartHandlerAdded) {
            form.dataset.cartHandlerAdded = 'true';
            form.addEventListener('submit', function() {
              const submitButton = this.querySelector('button[type="submit"]');
              if (submitButton) {
                submitButton.disabled = true;
                submitButton.style.opacity = "0.5";
                submitButton.style.pointerEvents = "none";
                submitButton.textContent = "Adding...";
              }
              setTimeout(checkAndDisableButtons, 1000);
            });
          }
        }
    
        // Setup for featured section
        if (featuredSection) {
          const featuredForm = featuredSection.querySelector('.product-form');
          if (featuredForm && !featuredForm.dataset.cartHandlerAdded) {
            featuredForm.dataset.cartHandlerAdded = 'true';
            featuredForm.addEventListener('submit', function() {
              const submitButton = this.querySelector('button[type="submit"], [data-action="add-to-cart"]');
              if (submitButton) {
                submitButton.disabled = true;
                submitButton.style.opacity = "0.5";
                submitButton.style.pointerEvents = "none";
                submitButton.textContent = "Adding...";
              }
              setTimeout(checkAndDisableButtons, 1000);
            });
          }
        }
      }
    
      function setupObservers() {
        const observer = new MutationObserver(() => {
          const shouldSetup = 
            (isProductPage && document.querySelector('form[action*="/cart/add"]')) ||
            (featuredSection && featuredSection.querySelector('.product-form'));
          
          if (shouldSetup) {
            setupFormHandlers();
            checkAndDisableButtons();
          }
        });
    
        observer.observe(document.body, {
          childList: true,
          subtree: true
        });
      }
    
      // Initialize
      checkAndDisableButtons();
      setupFormHandlers();
      setupObservers();
      document.addEventListener('ajaxComplete', checkAndDisableButtons);
    });
      
    </script>

  </body>
</html>
